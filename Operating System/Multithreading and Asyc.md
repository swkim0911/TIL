# 멀티 스레드 프로그래밍과 비동기 프로그래밍

## 멀티스레드 프로그래밍
멀티스레드는 하나의 프로그램 안에서 여러 스레드를 동시에 실행하는 방식이다. 각 스레드는 멀티코어 CPU 환경에서 실제 병렬 실행이 가능하다.

### 장점
- 병렬 처리: 멀티 코어 CPU 환경에서 실제로 여러 스레드가 동시에 실행하면서 CPU 바운드 연산 성능과 처리량을 높인다.
  
  
### 단점
- 컨텍스트 전환 비용: 스레드가 많으면 작업을 스케줄링하고 문맥 교환하는데 더 많은 비용이 든다.
- 동기화: 여러 스레드가 공유 자원 접근시 락이 필요하며 데드락이나 race condition 같은 위험이 발생한다.
- 자원 소모: 각 스레드마다 갖고 있는 스택 메모리와 관리 메모리 영역에 대한 오버헤드가 발생한다.

### 한계
- I/O 바운드 작업에 비효율: 스레드가 I/O 대기 상태면 CPU를 활용하지 못하게 되고, 불필요한 스레드가 많아진다.
- 확장성 문제: 스레드 마다 고유 메모리 공간과 관리가 필요해, 스레드 수를 많이 늘릴수록 메모리 사용량과 컨텍스트 전환 비용이 증가한다.

## 비동기 통신
작업 자체를 요청한 뒤 기다리지 않고 다른 작업을 이어서 실행하는 방식이다. 스레드를 블로킹하지 않고 외부 작업이 완료될 때까지 제어권을 반환한다.

### 장점
- 자원 효율성: I/O 대기 중 스레드를 점유하지 않아, 적은 수의 스레드로 많은 작업 처리가 가능하다.
- 높은 확정성: 대규모 네트워크 요청 같은 I/O 바운드 작업에 강하다.(웹 서버)
- 논블로킹 처리: 작업 요청 결과를 기다리는 동안 스레드가 차단되지 않으므로 다른 작업을 실행할 수 있다. 
  
### 단점
- CPU 바운드 작업에 비효율: 실제 병렬 실행이 아니므로 연산량이 큰 작업은 멀티스레드/멀티프로세스가 필요하다.
- 예외 처리 어려움: 예외가 테스크 컨텍스트 안에서 발생 -> 처리 코드가 흩어질 수 있음
  
### 한계
- 병렬성 부족: 단일 스레드 기반일 경우, CPU를 병렬로 사용하지 못한다.
- CPU 바운드 작업: 연산량이 많은 작업에는 멀티 스레드나 멀티 프로세스로 멀티 코어 환경을 활용해야 하기 때문에 한계가 있다.
  
### 참고
- [The Difference Between Asynchronous and Multi-Threading](https://www.baeldung.com/cs/async-vs-multi-threading)
- [Async vs Multithreading: Unraveling the Secrets of Concurrency and Parallelism in .NET](https://medium.com/@robertdennyson/async-vs-multithreading-unraveling-the-secrets-of-concurrency-and-parallelism-in-net-80dd27047bc2)

  

