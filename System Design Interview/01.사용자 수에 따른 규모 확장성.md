# 단일 서버
모든 컴포넌트(웹 앱, DB, 캐시 등)가 한 대의 서버에서 실행되는 간단한 시스템.

그림 1-2

1. 사용자는 도메인 이름(api.mysite.com)을 이용하여 웹사이트에 접속한다. 이 접속을 위해서 도메인 이름을 DMS에 질의하여 IP 주소로 변환하는 과정이 필요하다.
2. DNS 조회 결과로 IP 주소가 반환된다.
3. 해당 IP 주소로 HTTP 요청이 전돨된다.
4. 요청을 받은 웹 서버는 HTML 페이지나 JSON 형태의 응답을 반환한다.

실제 요청은 다음 두 가지 종류의 단말로부터 온다.
- 웹 애플리케이션
- 모바일 앱

# 데이터 베이스
사용자가 늘면 서버 하나로 충분하지 않아 여러 서버를 두어야 한다. 하나는 웹/모바일 트래픽 처리 용도고, 다른 하나는 DB용이다. 웹/모바일 트래픽 처리 서버(웹 계층)와 DB 서버(데이터 계층)를 분리하면 각각 독립적으로 확장할 수 있다.

그림 1-3 draw.io

## 어떤 데이터베이스를 사용할 것인가?

### 관계형 데이터베이스
- 자료를 테이블과 열, 컬럼으로 표현한다.
- SQL을 사용하면 여러 테이블에 있는 데이터를 그 관계에 따라 조인(join)하여 합칠 수 있다.

### 비 관계형 데이터베이스
- 일반적으로 조인 연산을 지원하지 않는다.

### 비 관계형 데이터베이스를 선택하는 경우
-  아주 낮은 응답 지연시간(latency)을 요구하는 경우
    - 응답 지연시간: 시스템에서 요청을 보낸 시점부터 그에 대한 응답이 도착하는 시점까지 걸리는 시간

-  다루는 데이터가 비정형이라(unstructured) 관계형 데이터가 아닌 경우
   -  비정형 데이터: 고정된 구조나 스키마가 없는 데이터. 텍스트 문서, 미디어 파일, 로그 파일 등이 있다.

-  데이터(JSON, YAML, XML 등)를 직렬화하거나 역직렬화할 수 있기만 하면 되는 경우
   - 데이터 간에 (복잡한) 관계, 트랜잭션 관리가 필요한 경우 관계형 데이터베이스 사용을 고려한다. 
-  아주 많은 양의 데이터를 저장할 필요가 있는 경우

# 수직적 규모 확장 vs 수평적 규모 확장